<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Агата Карл — Νύχτα & Αστέρια</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0c0c0f; --gold:#e7c86a; --gold-soft:#f3dea0; --ink:#d8cfb3; --panel:#121218; --ring:rgba(231,200,106,.25);
  }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%;background:radial-gradient(ellipse at 50% -20%,#111425 0%, #0b0d14 45%, #090a0f 100%);color:var(--ink);font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto;line-height:1.6}
  h1,h2,h3{font-family:"Cormorant Garamond",serif;color:var(--gold);margin:0 0 .6rem}
  h1{font-size:clamp(34px,5vw,56px);letter-spacing:.03em;text-align:center;margin-top:28px}
  .nav{display:flex;gap:14px;justify-content:center;flex-wrap:wrap;margin:18px auto 26px}
  .chip{padding:10px 18px;border:1px solid var(--gold);border-radius:18px;color:var(--gold);background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(0,0,0,.2));backdrop-filter:blur(2px);cursor:pointer;transition:.25s}
  .chip:hover{box-shadow:0 0 0 6px var(--ring)}
  section{max-width:1000px;margin:0 auto;padding:24px 18px}
  .card{background:rgba(0,0,0,.28);border:1px solid rgba(255,255,255,.06);border-radius:18px;padding:18px 16px;box-shadow:0 40px 120px rgba(0,0,0,.35), 0 0 80px rgba(231,200,106,.06) inset}
  .section-title{font-size:clamp(26px,4.2vw,40px);text-align:center;margin:6px 0 18px}
  .muted{color:#bfb9a4}
  .grid{display:grid;gap:18px}
  .grid.photos{grid-template-columns:1fr;max-width:980px;margin-inline:auto}
  @media(min-width:760px){ .grid.photos{grid-template-columns:1fr 1fr} }
  .photo{position:relative;border-radius:18px;overflow:hidden;border:1px solid rgba(255,255,255,.08);box-shadow:0 20px 60px rgba(0,0,0,.3)}
  .photo img{display:block;width:100%;height:100%;object-fit:cover;aspect-ratio:4/3;transition:transform .35s ease}
  .photo:hover img{transform:scale(1.03)}
  .photo .caption{position:absolute;left:12px;bottom:10px;background:rgba(0,0,0,.42);padding:6px 10px;border-radius:12px;color:#eee;font-size:14px;border:1px solid rgba(255,255,255,.08)}
  /* Lightbox */
  .lightbox-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.8);display:none;align-items:center;justify-content:center;z-index:60}
  .lightbox-backdrop.open{display:flex}
  .lightbox-frame{max-width:92vw;max-height:86vh;border-radius:16px;overflow:hidden;box-shadow:0 30px 100px rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.12)}
  .lightbox-frame img{display:block;max-width:100%;max-height:86vh}
  .lightbox-x{position:absolute;top:14px;right:14px;background:#0009;border:1px solid #fff3;color:#fff;padding:8px 12px;border-radius:12px;cursor:pointer}
  /* Moon / Quote */
  .widgets{display:grid;gap:18px;grid-template-columns:1fr;max-width:980px;margin-inline:auto}
  @media(min-width:760px){ .widgets{grid-template-columns:1fr 1fr} }
  .widget-title{font-family:"Cormorant Garamond",serif;font-size:22px;color:var(--gold-soft);margin-bottom:8px}
  .quote{font-style:italic}
  /* Tarot */
  .tarot-wrap .controls{display:flex;flex-wrap:wrap;gap:8px}
  .tarot-wrap input,.tarot-wrap button, .tarot-wrap select{
    padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#0e1016;color:#eee
  }
  .tarot-wrap button{cursor:pointer;border-color:var(--gold);color:var(--gold);background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.35))}
  .tarot-result{margin-top:10px;padding:12px;border-radius:12px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08)}
  /* Floating Music */
  .music-fab{position:fixed;right:16px;bottom:18px;z-index:40;background:linear-gradient(135deg,#f6d47e,#ecb35c);color:#2a210a;border:none;border-radius:18px;padding:12px 16px;display:flex;gap:8px;align-items:center;box-shadow:0 10px 40px rgba(0,0,0,.4);font-weight:600}
  .music-panel{position:fixed;inset:auto 12px 84px 12px;z-index:50;background:#0b0c12; border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:12px;display:none}
  .music-panel.open{display:block}
  .music-panel h3{margin:0 0 10px}
  .song-btn{width:100%;text-align:left;background:#12141c;border:1px solid rgba(255,255,255,.08);padding:10px 12px;border-radius:12px;color:#e8e2cc;margin-bottom:8px}
  /* Stars bg */
  .stars{position:fixed;inset:0;pointer-events:none;z-index:-1;background:transparent}
  .star{position:absolute;width:2px;height:2px;background:#fff;border-radius:50%;opacity:.6;animation:twinkle 3.2s infinite ease-in-out}
  @keyframes twinkle{0%,100%{opacity:.2}50%{opacity:.9}}
  /* Footer email */
  .email{color:var(--gold-soft);text-align:center;margin:24px 0}
</style>
</head>
<body>

<!-- tiny starfield -->
<div class="stars" id="stars"></div>

<h1>Агата Карл</h1>
<nav class="nav">
  <a class="chip" href="#about">Σχετικά</a>
  <a class="chip" href="#photos">Φωτογραφίες</a>
  <a class="chip" href="#tarot">Ταρώ</a>
  <a class="chip" href="#sky">Moon & Quote</a>
  <a class="chip" href="#contact">Επικοινωνία</a>
</nav>

<section id="about" class="card">
  <h2 class="section-title">Σχετικά</h2>
  <p class="muted">Γράφω, φωτογραφίζω και συλλέγω μικρές νυχτερινές στιγμές. Αυτό το site είναι το προσωπικό μου ημερολόγιο εικόνων και κειμένων με μυστικιστική αισθητική.</p>
</section>

<section id="photos">
  <h2 class="section-title">Φωτογραφίες</h2>
  <div class="grid photos">
    <!-- Φτερό Άγγελος & Δαίμονας -->
    <figure class="photo">
      <a href="img/angel-demon.png" data-lightbox><img src="img/angel-demon.png" alt="Άγγελος και Δαίμονας"></a>
      <figcaption class="caption">Άγγελος και Δαίμονας</figcaption>
    </figure>
    <!-- Θάλασσα -->
    <figure class="photo">
      <a href="img/sea.jpg" data-lightbox><img src="img/sea.jpg" alt="Στη Θάλασσα"></a>
      <figcaption class="caption">Στη Θάλασσα</figcaption>
    </figure>
    <!-- Λογότυπο Γάτα & Φεγγάρι -->
    <figure class="photo">
      <a href="img/cat-moon.png" data-lightbox><img src="img/cat-moon.png" alt="Λογότυπο — Γάτα & Φεγγάρι"></a>
      <figcaption class="caption">Λογότυπο — Γάτα & Φεγγάρι</figcaption>
    </figure>
  </div>
</section>

<section id="tarot">
  <h2 class="section-title">Ταρώ</h2>
  <div class="card tarot-wrap">
    <div class="controls">
      <input id="nameInput" type="text" placeholder="Όνομα (προαιρετικό)">
      <input id="dateInput" type="date" />
      <select id="spread">
        <option value="1">1 κάρτα</option>
        <option value="3">3 κάρτες (Παρελθόν–Παρόν–Μέλλον)</option>
      </select>
      <button id="drawBtn">Τράβηξε Κάρτα(ες)</button>
      <button id="resetTarot">Καθαρισμός</button>
    </div>
    <div id="tarotResult" class="tarot-result"></div>
  </div>
</section>

<section id="sky">
  <h2 class="section-title">Night Corner</h2>
  <div class="widgets">
    <div class="card">
      <div class="widget-title">Quote of the Day</div>
      <div id="quoteBox" class="quote"></div>
    </div>
    <div class="card">
      <div class="widget-title">Φάση Σελήνης (σήμερα)</div>
      <div id="moonBox">
        <canvas id="moonCanvas" width="160" height="160" style="display:block;margin:auto"></canvas>
        <div id="moonText" style="text-align:center;margin-top:8px" class="muted"></div>
      </div>
    </div>
  </div>
</section>

<section id="contact">
  <h2 class="section-title">Επικοινωνία</h2>
  <p class="email">Email: <a href="mailto:Agathikarlidu@gmail.com">Agathikarlidu@gmail.com</a></p>
</section>

<!-- Floating Music -->
<button class="music-fab" id="musicFab">♪ Μουσική — Night Mood</button>
<div class="music-panel card" id="musicPanel" aria-hidden="true">
  <h3>Μουσική — Night Mood <button id="closeMusic" class="chip" style="float:right;padding:6px 10px">× Κλείσιμο</button></h3>
  <button class="song-btn" data-yt="UCo2kJ2C5sR0">Evanescence — Bring Me to Life</button>
  <button class="song-btn" data-yt="FJfFZqTlWrQ">Pink — So What</button>
  <button class="song-btn" data-yt="xFYQQPAOz7Y">Eminem — Lose Yourself</button>
  <div id="ytHolder" style="margin-top:8px"></div>
</div>

<!-- Lightbox backrop -->
<div class="lightbox-backdrop" id="lightbox">
  <button class="lightbox-x" id="lbClose">Κλείσιμο</button>
  <div class="lightbox-frame"><img id="lbImg" alt=""></div>
</div>

<script>
/* ---------- Stars ---------- */
(function(){
  const c = document.getElementById('stars');
  for(let i=0;i<120;i++){
    const s = document.createElement('div');
    s.className='star';
    s.style.top = (Math.random()*100)+'%';
    s.style.left = (Math.random()*100)+'%';
    s.style.opacity = .2 + Math.random()*0.8;
    s.style.animationDelay = (Math.random()*3)+'s';
    c.appendChild(s);
  }
})();

/* ---------- Lightbox ---------- */
(function(){
  const lb = document.getElementById('lightbox');
  const lbImg = document.getElementById('lbImg');
  document.querySelectorAll('a[data-lightbox]').forEach(a=>{
    a.addEventListener('click',e=>{
      e.preventDefault();
      lbImg.src = a.getAttribute('href');
      lb.classList.add('open');
    });
  });
  document.getElementById('lbClose').onclick = ()=>lb.classList.remove('open');
  lb.addEventListener('click',e=>{ if(e.target===lb) lb.classList.remove('open'); });
})();

/* ---------- Quote of the Day ---------- */
(function(){
  const quotes = [
    "Ο δρόμος ανοίγεται εκεί που η ψυχή τολμά να περπατήσει.",
    "Η σιωπή της νύχτας ξέρει μυστικά που η μέρα ξεχνά.",
    "Κάθε αστέρι είναι μια υπόσχεση στο σκοτάδι.",
    "Όπου πέφτει το φως, ο ίσκιος αποκτά μορφή.",
    "Τα όνειρα είναι οι χάρτες των θαρραλέων."
  ];
  const i = new Date().getDate()%quotes.length;
  document.getElementById('quoteBox').textContent = "«"+quotes[i]+"»";
})();

/* ---------- Moon phase (approx.) ---------- */
(function(){
  function moonPhase(d){
    // Simple Conway-like approximation
    const year=d.getUTCFullYear(), month=d.getUTCMonth()+1, day=d.getUTCDate();
    let r = year % 100; r %= 19; if(r>9) r-=19;
    r = ((r*11) % 30) + month + day;
    if(month<3) r+=2;
    const phase = (r<0? r+30 : r) % 30; // 0=new, 15=full
    return phase/29.53; // 0..1
  }
  const p = moonPhase(new Date()); // fraction
  const names = ["Νέα Σελήνη","Κηλ. Αύξουσα","Πρώτο Τέταρτο","Αύξουσα","Πανσέληνος","Φθίνουσα","Τελευταίο Τέταρτο","Κηλ. Φθίνουσα"];
  function nameFrom(f){
    if(f<0.06) return names[0];
    if(f<0.23) return names[1];
    if(f<0.31) return names[2];
    if(f<0.48) return names[3];
    if(f<0.56) return names[4];
    if(f<0.73) return names[5];
    if(f<0.81) return names[6];
    return names[7];
  }
  const cv=document.getElementById('moonCanvas'), ctx=cv.getContext('2d');
  const R=70, cx=cv.width/2, cy=cv.height/2;
  // background
  ctx.fillStyle="#0a0b10"; ctx.fillRect(0,0,cv.width,cv.height);
  // full disc
  ctx.fillStyle="#f4f1e6"; ctx.beginPath(); ctx.arc(cx,cy,R,0,Math.PI*2); ctx.fill();
  // shadow
  const k = Math.cos(p*Math.PI*2);
  ctx.fillStyle="#0a0b10";
  ctx.beginPath();
  ctx.ellipse(cx + k*R, cy, Math.abs(k)*R, R, 0, 0, Math.PI*2);
  ctx.fill();
  document.getElementById('moonText').textContent = nameFrom(p);
})();

/* ---------- Tarot ---------- */
(function(){
  const majors = [
    ["Ο Τρελός","Ξεκίνημα, ελευθερία, ρίσκο"],
    ["Ο Μάγος","Δύναμη βούλησης, δημιουργία"],
    ["Η Ιέρεια","Διαίσθηση, μυστικά"],
    ["Η Αυτοκράτειρα","Φροντίδα, αφθονία"],
    ["Ο Αυτοκράτορας","Δομή, σταθερότητα"],
    ["Ο Ιεροφάντης","Παράδοση, σοφία"],
    ["Οι Εραστές","Επιλογή, ένωση"],
    ["Το Άρμα","Πρόοδος, θέληση"],
    ["Δύναμη","Κουράγιο, ήρεμη ισχύς"],
    ["Ερημίτης","Εσωτερική αναζήτηση"],
    ["Τύχη","Αλλαγή, κύκλοι"],
    ["Δικαιοσύνη","Ισορροπία, αλήθεια"],
    ["Κρεμασμένος","Παράδοση, νέα οπτική"],
    ["Θάνατος","Μεταμόρφωση, κλείσιμο"],
    ["Εγκράτεια","Μέτρο, αλχημεία"],
    ["Διάβολος","Δεσμοί, πειρασμός"],
    ["Πύργος","Ανατροπή, απελευθέρωση"],
    ["Αστέρι","Ελπίδα, ίαση"],
    ["Σελήνη","Σκιές, υποσυνείδητο"],
    ["Ήλιος","Ζωτικότητα, χαρά"],
    ["Κρίση","Ξύπνημα, κάλεσμα"],
    ["Κόσμος","Ολοκλήρωση, ενόραση"]
  ];
  const dateInput = document.getElementById('dateInput');
  const nameInput = document.getElementById('nameInput');
  const spreadSel = document.getElementById('spread');
  const out = document.getElementById('tarotResult');
  function seededRand(seed){ let x = Math.sin(seed)*10000; return x - Math.floor(x); }
  function draw(n){
    const d = dateInput.value ? new Date(dateInput.value) : new Date();
    let seed = d.getFullYear()*10000 + (d.getMonth()+1)*100 + d.getDate();
    if(nameInput.value){ for(const ch of nameInput.value) seed += ch.charCodeAt(0); }
    const res=[];
    for(let i=0;i<n;i++){
      const r = seededRand(seed+i);
      const idx = Math.floor(r*majors.length);
      const rev = seededRand(seed*7+i)>.75; // ~25% reversed
      const card = majors[idx][0] + (rev?" (ανεστραμμένο)":"");
      const meaning = majors[idx][1] + (rev?" — μπλοκάρισμα/καθυστέρηση":"");
      res.push(`<div><b>${card}</b><br><span class="muted">${meaning}</span></div>`);
    }
    out.innerHTML = res.join('<hr style="border:0;border-top:1px solid rgba(255,255,255,.08);margin:8px 0">');
  }
  document.getElementById('drawBtn').onclick=()=>draw(+spreadSel.value);
  document.getElementById('resetTarot').onclick=()=>{ out.innerHTML=''; nameInput.value=''; dateInput.value=''; };
})();

/* ---------- Music (floating + background play with YT embed muted UI) ---------- */
(function(){
  const fab = document.getElementById('musicFab');
  const panel = document.getElementById('musicPanel');
  const holder = document.getElementById('ytHolder');
  const closeBtn = document.getElementById('closeMusic');
  const list = Array.from(document.querySelectorAll('.song-btn')).map(b=>({el:b,id:b.dataset.yt}));
  let current = 0, playerFrame=null;

  function load(id, autoplay){
    holder.innerHTML = `<iframe width="100%" height="240" src="https://www.youtube.com/embed/${id}?enablejsapi=1&autoplay=${autoplay?1:0}" 
      title="YouTube" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
    playerFrame = holder.querySelector('iframe');
  }
  // αρχικό χωρίς να ανοίξεις panel
  load(list[0].id, true);

  // εναλλαγή από panel
  list.forEach((s, idx)=> s.el.onclick=()=>{ current=idx; load(s.id,true); });

  fab.onclick = ()=> panel.classList.toggle('open');
  closeBtn.onclick = ()=> panel.classList.remove('open');

  // αυτόματη μετάβαση στο επόμενο (απλή προσέγγιση timer ~ διάρκεια)
  const durations = [235, 215, 326]; // sec περίπου
  setInterval(()=>{
    // αν υπάρχει iframe, συνεχίζουμε σαν “ραδιόφωνο” με κύκλο
    current = (current+1) % list.length;
    load(list[current].id,true);
  }, 1000*durations[0]); // απλά ~κάθε 3-4 λεπτά – μπορείς να προσαρμόσεις
})();
</script>
</body>
</html>
